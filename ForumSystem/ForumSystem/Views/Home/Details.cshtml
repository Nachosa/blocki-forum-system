@model ForumSystem.DataAccess.Models.Post;
@using ForumSystem.DataAccess.Models

<div class="body-content">
	@if (ViewBag.IsAuthorDetail)
	{
		<h2>@this.Model.User.Username</h2>

		<p class="margin12">First Name: @this.Model.User.FirstName</p>
		<p class="margin12">Last Name: @this.Model.User.LastName</p>
		<p class="margin12">Phone Number: @this.Model.User.PhoneNumber</p>
		<p class="margin12">Total Comments: @this.Model.User.Comments.Count</p>
		<p class="margin12">Total Likes: @this.Model.User.Likes.Count</p>
		//Ще е добре да се изкарват и постовете.
	}
	else
	{
		<h2>@this.Model.Title</h2>

		<p class="margin12">Created By: <a href="@Url.Action("Details", "Home", new { id = Model.Id, isAuthorDetail = "true" })">@Model.User.Username</a></p>
		<p class="margin12">Created On: @this.Model.CreatedOn</p>
		<p class="margin12">Likes: @this.Model.Likes.Count</p>
		<p class="margin12">Tags: @(Model.Tags.Any() ? string.Join(", ", Model.Tags) : "none")</p>

		<h3>Content: @this.Model.Content</h3>

		<h4>Comments</h4>
		@if (this.Model.Comments.Count == 0)
		{
			<p>
				<i>No comments.</i>
			</p>
		}
		else
		{
			<ul>
				@foreach (var comment in this.Model.Comments)
				{
					<li class="margin12">@comment.Content</li>
				}
			</ul>
		}

		<!-- Add comment button -->
		<a href="@Url.Action("AddComment", "Home", new { postId = Model.Id })" class="btn btn-primary">Add Comment</a>
	}
</div>